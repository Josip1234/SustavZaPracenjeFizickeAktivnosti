package com.example.physical.activity.database;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.stereotype.Component;

import com.example.physical.activity.regist.Registration;

import java.sql.*;
import java.sql.ResultSet;
@Component("Spajanje na bazu")
public class PhysicalActivityDatabase  {
	
	private String ime_baze;
	private String host;
	private String user;
	private String vrsta_baze;
	private Registration reg;
	
	public PhysicalActivityDatabase(){
		
		this.ime_baze="physicalactivity";
		this.host="//127.0.0.1/";
		this.user="root";
		this.vrsta_baze="jdbc:mysql:";
	}
	
	@Autowired
	public PhysicalActivityDatabase(Registration reg){

		this.ime_baze="physicalactivity";
		this.host="//127.0.0.1/";
		this.user="root";
		this.vrsta_baze="jdbc:mysql:";
		this.reg=reg;
	}
	public void unesi(Registration reg){
	   int id=reg.getId();
	}
	
/*
 * Prvo loadati drivere za bazu podataka	
 */



/*
 * Nakon loadiranja drivera, mo≈æemo napraviti vezu prema bazi
 */
public void spoji(){
	try {

	    Class.forName("com.mysql.jdbc.Driver").newInstance();
	    System.out.println("Registriran driver");

	} catch (Exception e) {

	    System.out.println(e.toString());

	}
 try {
	Connection conn= DriverManager.getConnection(vrsta_baze+host);
	try {

	    Class.forName("com.mysql.jdbc.Driver").newInstance();
	    System.out.println("Spojeno");

	} catch (Exception e) {

	    System.out.println(e.toString());

	}

} catch (SQLException e) {
	// TODO Auto-generated catch block
	e.printStackTrace();
}
}
}
